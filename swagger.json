{
  "openapi": "3.0.0",
  "info": {
    "version": "1.0.0",
    "title": "Custodial Wallet API Documentation",
    "description": "Custodial Wallet API Documentation"
  },
  "servers": [
    {
      "url": "http://localhost:8000/",
      "description": "Local Dev"
    }
  ],
  "tags": [
    {
      "name": "StatusCheck",
      "description": "API for checking status of different services and custodial wallet application"
    },
    {
      "name": "Register",
      "description": "API for Registering new client"
    },
    {
      "name": "CustodialWallet",
      "description": "APIs for creating new custodial wallet"
    },
    {
      "name": "Ether",
      "description": "APIs for Ether related functionalities"
    },
    {
      "name": "FungibleToken",
      "description": "APIs for FungibleToken related functionalities"
    }
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "components": {
    "securitySchemes": {
      "jwt": {
        "type": "http",
        "scheme": "bearer",
        "in": "header",
        "bearerFormat": "JWT"
      }
    }
  },
  "security": [
    {
      "jwt": []
    }
  ],
  "paths": {
    "/v1/client/register": {
      "post": {
        "tags": [
          "Register"
        ],
        "summary": "Register as New Client",
        "requestBody": {
          "description": "This API is to be used to Register as New Client in Custodial wallet service",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/definitions/registerClientRequest"
              }
            }
          }
        },
        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/definitions/accountResponse"
                }
              }
            }
          },
          "400": {
            "description": "Failed. Bad post data."
          },
          "500": {
            "description": "Failed. Something went wrong."
          },
          "404": {
            "description": "Something went wrong, might be invalid route"
          }
        }
      }
    },
    "/v1/custodialWallet/create": {
      "post": {
        "tags": [
          "CustodialWallet"
        ],
        "summary": "Create a New wallet on the Blockchain using Custodial wallet service",
        "security": [
          {
            "jwt": []
          }
        ],
        "requestBody": {
          "description": "This API is to be used to Create a New wallet on the Blockchain using Custodial wallet service",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/definitions/custodialWalletCreationRequest"
              }
            }
          }
        },
        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/definitions/custodialWalletCreationResponse"
                }
              }
            }
          },
          "400": {
            "description": "Failed. Bad post data."
          },
          "404": {
            "description": "Something went wrong, might be invalid route"
          },
          "500": {
            "description": "Failed. Something went wrong."
          }
        }
      }
    },
    "/v1/": {
      "get": {
        "tags": [
          "StatusCheck"
        ],
        "summary": "Get status of custodial wallet services application",
        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "status": "integer",
                "data": {
                  "type": "object"
                },
                "message": "string"
              }
            }
          },
          "404": {
            "description": "Something went wrong, might be invalid route"
          },
          "500": {
            "description": "Something went wrong, might be invalid route"
          }
        }
      }
    },
    "/v1/ethers": {
      "get": {
        "tags": [
          "StatusCheck"
        ],
        "summary": "Get status of custodial wallet ethers related service",
        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "status": "integer",
                "data": {
                  "type": "object"
                },
                "message": "string"
              }
            }
          },
          "404": {
            "description": "Something went wrong, might be invalid route"
          },
          "500": {
            "description": "Something went wrong, might be invalid route"
          }
        }
      }
    },
    "/v1/custodialWallet": {
      "get": {
        "tags": [
          "StatusCheck"
        ],
        "summary": "Get status of custodial wallet create new wallet service",
        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "status": "integer",
                "data": {
                  "type": "object"
                },
                "message": "string"
              }
            }
          },
          "404": {
            "description": "Something went wrong, might be invalid route"
          },
          "500": {
            "description": "Something went wrong, might be invalid route"
          }
        }
      }
    },
    "/v1/fungibleToken": {
      "get": {
        "tags": [
          "StatusCheck"
        ],
        "summary": "Get status of custodial wallet fungible token service",
        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "status": "integer",
                "data": {
                  "type": "object"
                },
                "message": "string"
              }
            }
          },
          "404": {
            "description": "Something went wrong, might be invalid route"
          },
          "500": {
            "description": "Something went wrong, might be invalid route"
          }
        }
      }
    },
    "/v1/client": {
      "get": {
        "tags": [
          "StatusCheck"
        ],
        "summary": "Get status of custodial wallet fungible token service",
        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "status": "integer",
                "data": {
                  "type": "object"
                },
                "message": "string"
              }
            }
          },
          "404": {
            "description": "Something went wrong, might be invalid route"
          },
          "500": {
            "description": "Something went wrong, might be invalid route"
          }
        }
      }
    },
    "/v1/ethers/balance/{walletAddress}": {
      "get": {
        "tags": [
          "Ether"
        ],
        "summary": "Get ether balance of a wallet address from the Blockchain",
        "parameters": [
          {
            "in": "path",
            "name": "walletAddress",
            "schema": {
              "type": "string"
            },
            "required": true,
            "description": "Wallet address whose ether balance needs to be fetched from blockchain"
          }
        ],
        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "status": "integer",
                "data": {
                  "type": "object",
                  "schema": {
                    "$ref": "#/definitions/etherBalanceResponse"
                  }
                },
                "message": "string"
              }
            }
          },
          "400": {
            "description": "Failed. Bad post data."
          }
        }
      }
    },
    "/v1/fungibleToken/balanceOf/{walletAddress}": {
      "get": {
        "tags": [
          "FungibleToken"
        ],
        "summary": "Get fungible token balance of a wallet address from the Blockchain",
        "parameters": [
          {
            "in": "path",
            "name": "walletAddress",
            "schema": {
              "type": "string"
            },
            "required": true,
            "description": "Wallet address whose fungible token balance needs to be fetched from blockchain"
          }
        ],
        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "status": "integer",
                "data": {
                  "type": "object",
                  "schema": {
                    "$ref": "#/definitions/fungibleTokenBalanceResponse"
                  }
                },
                "message": "string"
              }
            }
          },
          "400": {
            "description": "Failed. Bad post data."
          }
        }
      }
    },
    "/v1/ethers/transfer": {
      "post": {
        "tags": [
          "Ether"
        ],
        "summary": "Transfer ethers from your custodial wallet to another wallet.",
        "security": [
          {
            "jwt": []
          }
        ],
        "requestBody": {
          "description": "This API is to be used to Transfer ethers from your custodial wallet to another wallet using Custodial wallet application",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/definitions/etherTransferRequest"
              }
            }
          }
        },
        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                
                  "status": "integer",
                  "data": {
                    "type": "object",
                    "schema": {
                      "$ref": "#/definitions/etherTransferResponse"
                    }
                  },
                  "message": "string"
                }
              }
            }
          },
          "400": {
            "description": "Failed. Bad post data."
          },
          "404": {
            "description": "Something went wrong, might be invalid route"
          },
          "500": {
            "description": "Failed. Something went wrong."
          }
        }
    },
    "/v1/fungibleToken/transfer": {
      "post": {
        "tags": [
          "FungibleToken"
        ],
        "summary": "Transfer fungible( ERC20 ) tokens from your custodial wallet to another wallet.",
        "security": [
          {
            "jwt": []
          }
        ],
        "requestBody": {
          "description": "This API is to be used to Transfer ethers from your custodial wallet to another wallet using Custodial wallet application",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/definitions/etherTransferRequest"
              }
            }
          }
        },
        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                
                  "status": "integer",
                  "data": {
                    "type": "object",
                    "schema": {
                      "$ref": "#/definitions/etherTransferResponse"
                    }
                  },
                  "message": "string"
                }
              }
            }
          },
          "400": {
            "description": "Failed. Bad post data."
          },
          "404": {
            "description": "Something went wrong, might be invalid route"
          },
          "500": {
            "description": "Failed. Something went wrong."
          }
        }
    }
    },
  "definitions": {
    "generalResponse": {
      "status": "integer",
      "data": "object",
      "message": "string"
    },
    "registerClientRequest": {
      "type": "object",
      "properties": {
        "email": {
          "type": "string"
        },
        "name": {
          "type": "string"
        }
      }
    },
    "accountResponse": {
      "type": "object",
      "properties": {
        "account": {
          "$ref": "#/definitions/account"
        }
      }
    },
    "client": {
      "type": "object",
      "properties": {
        "id": {
          "type": "number"
        },
        "name": {
          "type": "string"
        },
        "email": {
          "type": "string"
        }
      }
    },
    "custodialWalletCreationRequest": {
      "type": "object",
      "properties": {
        "email": {
          "type": "string"
        }
      }
    },
    "typeValue": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string"
        },
        "value": {
          "type": "string"
        }
      }
    },
    "custodialWalletCreationResponse": {
      "type": "object",
      "properties": {
        "createdClient": {
          "type": "object",
          "properties": {
            "account": {
              "$ref": "#/definitions/client"
            }
          }
        },
        "clientToken": {
          "type": "string"
        }
      }
    },
    "etherBalanceResponse": {
      "type": "object",
      "properties": {
        "walletAddress": {
          "type": "string"
        },
        "etherBalance": {
          "type": "string"
        }
      }
    },
    "fungibleTokenBalanceResponse": {
      "type": "object",
      "properties": {
        "walletAddress": {
          "type": "string"
        },
        "fungibleTokenBalance": {
          "type": "string"
        }
      }
    },
    "etherTransferRequest": {
      "type": "object",
      "properties": {
        "email": {
          "type": "string"
        },
        "fromAddress": {
          "type": "string"
        },
        "ethersToTransfer": {
          "type": "string"
        },
        "toAddress": {
          "type": "string"
        }
      }
    },
    "etherTransferResponse": {
      "type": "object",
      "properties": {
        "etherTransferTransactionHash": {
          "type": "string"
        },
        "fromAddress": {
          "type": "string"
        },
        "ethersToTransfer": {
          "type": "string"
        },
        "toAddress": {
          "type": "string"
        }
      }
    }
  }
}